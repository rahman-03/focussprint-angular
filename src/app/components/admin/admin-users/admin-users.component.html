<div class="d-flex justify-content-between align-items-center mb-4">
    <h4 class="fw-bold">Users</h4>
</div>

<div class="card shadow-sm border-0">
    <div class="table-responsive">

      <table class="table align-middle mb-0 text-center">
        <thead class="table-light">
          <tr>
            <th>User</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>

        <tbody>
          @for (u of users; track u.id) {
            <tr>
              <td>
                <div class="fw-semibold">{{ u.username }}</div>
                <small class="text-muted">
                  {{ u.firstname }} {{ u.lastname }}
                </small>
              </td>

              <td>{{ u.email }}</td>

              <td>
                  {{ u.role | titlecase}}
              </td>

              <td>
                <span
                  class="badge px-4 py-2"
                  [ngClass]="u.is_active ? 'bg-soft' : 'bg-soft-opp'"
                >
                  {{ u.is_active ? 'Active' : 'Disabled' }}
                </span>
              </td>

              <td>
                <button
                  class="btn btn-sm btn-dark px-4 me-2"
                  (click)="editUser(u.id)"
                >
                  Edit
                </button>

                <button
                  class="btn btn-sm btn-outline-dark"
                  (click)="deleteUser(u.id)"
                >
                  Delete
                </button>
              </td>
            </tr>
          }

          @empty {
            <tr>
              <td colspan="5" class="text-center text-muted py-4">
                No users found
              </td>
            </tr>
          }
        </tbody>
      </table>

    </div>
</div>